import fitz  # PyMuPDF

def extract_text_with_numbers(pdf_path, output_txt_path):
    # Open the PDF
    doc = fitz.open(pdf_path)
    all_text = []

    # Extract text from each page
    for page_num, page in enumerate(doc):
        text = page.get_text("text")
        lines = text.split('\n')
        
        # Replace "·" with space in each line
        processed_lines = [line.replace('·', ' ') for line in lines]
        
        if processed_lines:
            all_text.append(f"Page {page_num + 1}")
            all_text.extend(processed_lines)
            all_text.append("")  # Add a space between pages for readability

    # Write results to a text file
    with open(output_txt_path, 'w', encoding='utf-8') as f:
        for line in all_text:
            f.write(line + '\n')

# Provide the path to your PDF and the output text file path
extract_text_with_numbers("C:\\Users\\bobbu\\OneDrive\\Desktop\\Deposition Summarizer\\depo original pdfs\\AshrafElsayeghMD.pdf", "AshrafElsayeghMD 1st textfile.txt")
